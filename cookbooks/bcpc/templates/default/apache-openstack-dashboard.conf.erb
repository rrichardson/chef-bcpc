################################################
#
#              Generated by Chef
#
################################################

NameVirtualHost <%="#{node[:bcpc][:management][:ip]}"%>:443

<VirtualHost <%="#{node[:bcpc][:management][:ip]}"%>:443>
    ServerName "openstack.<%="#{node[:bcpc][:domain_name]}"%>"
    ServerAlias <%="#{node[:bcpc][:management][:vip]}"%>
    ServerAlias <%="#{node[:bcpc][:management][:ip]}"%>
    WSGIScriptAlias /horizon /usr/share/openstack-dashboard/openstack_dashboard/wsgi/django.wsgi
    WSGIDaemonProcess horizon user=www-data group=www-data processes=3 threads=10
    Alias /static /usr/share/openstack-dashboard/openstack_dashboard/static/
    <Directory /usr/share/openstack-dashboard/openstack_dashboard/wsgi>
        Order allow,deny
        Allow from all
    </Directory>
    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/ssl-bcpc.pem
    SSLCertificateKeyFile /etc/ssl/private/ssl-bcpc.key
</VirtualHost>
