################################################
#
#              Generated by Chef
#
################################################

[global]
    fsid = <%="#{get_config('ceph-fs-uuid')}"%>
    auth supported = cephx
    public network = <%= @node["bcpc"]["storage"]["cidr"] %>
    cluster network = <%= @node["bcpc"]["storage"]["cidr"] %>
    keyring = /etc/ceph/$cluster.$name.keyring
    mon host = <%= @servers.map{|s| s["bcpc"]["storage"]["ip"] + ":6789"}.join(', ') %>
    rgw socket path = /var/lib/ceph/radosgw/rgw_fcgi.sock

[mon]
    keyring = /var/lib/ceph/mon/$cluster-$id/keyring

[mds]
    keyring = /var/lib/ceph/mds/$cluster-$id/keyring

[osd]
    keyring = /var/lib/ceph/osd/$cluster-$id/keyring
    osd journal size = 1024
    filestore_xattr_use_omap = true
    osd_fs_type = xfs
    osd_fs_mount_options_xfs = noexec,nodev,noatime,nodiratime,barrier=0,discard

[client.radosgw.gateway]
    keyring = /var/lib/ceph/radosgw/$cluster-$id/keyring
    log file = /var/log/ceph/radosgw.log

